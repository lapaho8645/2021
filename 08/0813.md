## mutex 사용하기
* mutex 초기화
```c
int pthread_mutex_init(pthread_mutex_t * mute, const pthread_mutex_attr *att);
pthread_mutex_t_init_mutex = PTHREAD_MUTEX_INITIALIZER;
```
* mutex 얻기
```c
pthread_mutex_lock(&mutex_lock);
```
* mutex 돌려주기
```c
pthread_mutex_unlock(&mutex_lock);
```
* mutex 파기
```c
int pthread_mutex_destroy(pthread_mutex_t *mutex);
```
* 어떤 쓰레드에 pthread_mutex_lock을 호출하여 lock이 걸렸을 때 다른 쓰레드가 pthread_mutex_lock을 호출한다면 이전 쓰레드가 pthread_mutex_unlock을 호출할 때까지 기다려야 한다.
#### 뮤텍스 예제
```c
#include <pthread.h>
#include <stdio.h>
#include <unistd.h>
#include <stdlib.h>

#define LOOP_COUNTER 10000
pthread_mutex_t mutex;
pthread_mutex_t mutex_1;
pthread_mutex_t mutex_2;
int cnt;

void *count1(void *arg){
    int i;
    char* name = (char*)arg;

    for (i = 0; i <LOOP_COUNTER; i++)
    {
        pthread_mutex_lock(&mutex_1);
                pthread_mutex_lock(&mutex);
        cnt = cnt+1;
        pthread_mutex_unlock(&mutex);
      //  printf("%s cnt: %d\n", name,cnt);
        pthread_mutex_unlock(&mutex_1);
    }
}

void *count2(void *arg){
    int i;
    char* name = (char*)arg;

    for (i = 0; i <LOOP_COUNTER; i++)
    {
        pthread_mutex_lock(&mutex_2);
                pthread_mutex_lock(&mutex);
        cnt = cnt -1;
        pthread_mutex_unlock(&mutex);
       // printf("%s cnt: %d\n", name,cnt);
        pthread_mutex_unlock(&mutex_2);
    }
}

int main()
{
    pthread_t thread1,thread2;
        void *thread_result;

    pthread_mutex_init(&mutex,NULL);
    pthread_mutex_init(&mutex_1,NULL);
    pthread_mutex_init(&mutex_2,NULL);

    pthread_create(&thread1, NULL, count1, (void *)"thread1");
    pthread_create(&thread2, NULL, count2, (void *)"thread2");

    pthread_join(thread1, &thread_result);
    pthread_join(thread2, &thread_result);
        printf("Final counter : %d\n", cnt);

    pthread_mutex_destroy(&mutex);
    pthread_mutex_destroy(&mutex_1);
    pthread_mutex_destroy(&mutex_2);
}
```
## 입출력 모델
#### 봉쇄 vs 비봉쇄
* 봉쇄 : 조건이 만족되지 않으면 대기 상태 (Blocking)
* 비봉쇄 : 조건이 만족되지 않아도 바로 반환 (NonBlocking)
#### 동기 vs 비동기
* 동기 : 데이터 입출력 상태에 대해 알고 있는 상태
* 비동기 : 데이터 입출력 상태에 대해 모르는 상태
